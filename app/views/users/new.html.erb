<h1>Регистрация</h1>

<%= form_with(model: @user, local: true) do |form| %>
  <div class="form-group">
    <%= form.label :username, 'Логин' %>
    <%= form.text_field :username, class: 'form-control', required: true %>
  </div>

  <div class="form-group">
    <%= form.label :password, 'Пароль' %>
    <%= form.password_field :password, class: 'form-control', required: true %>
  </div>

  <div class="form-group">
    <%= form.label :password_confirmation, 'Подтвердите пароль' %>
    <%= form.password_field :password_confirmation, class: 'form-control', required: true %>
  </div>

  <%= form.submit 'Зарегистрироваться', class: 'btn btn-primary' %>
<% end %>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');
        form.addEventListener('submit', function(event) {
            const password = document.querySelector('#user_password');
            const passwordConfirmation = document.querySelector('#user_password_confirmation');

            if (password.value !== passwordConfirmation.value) {
                event.preventDefault();
                alert('Пароли не совпадают!');
            }
        });
    });
</script>
